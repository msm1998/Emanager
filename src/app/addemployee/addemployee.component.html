<div class="container-fluid">
    <div *ngIf="success">
        <p class="alert alert-success">Successfully Added</p>
    </div>
    <div class="alert alert-danger" *ngIf="errorMsg">
        {{errorMsg}}
    </div>
    <div class="card mx-auto justify-content-center" style="width:fit-content;"> 
        <div class="card-body">
            <form class="mx-auto"  action="" id="addForm" style="width:500px;" #employeeForm="ngForm" novalidate (ngSubmit)="onSubmit()" >
                <!-- {{employeeForm.value| json}} -->
                <!-- {{em | json}} -->
                <div class="form-group row">
                    <label for="id" class="col-sm-3 col-form-label">Id</label>
                    <div class="col-sm-8"> 
                        <input type="text" required pattern="TCS[0-9]{6}" #id="ngModel" ngControl="id" [class.is-invalid]="id.invalid && id.touched" class="form-control" id="id" name="id" [(ngModel)]="em.id">
                        <div *ngIf="id.errors && (id.invalid || id.touched)">
                            <small *ngIf="id.errors.required" [class.d-none]='id.valid || id.untouched'>valid Id is required</small>    
                            <small *ngIf="id.errors.pattern" [class.d-none]='id.valid || id.untouched'>Id should be starting wiht TCS and leading with 6 digits.</small>    
                        </div>
                    </div>
                </div>
                <div class="form-group row">
                    <label for="firstName" class="col-sm-3 col-form-label" >FirstName</label>
                    <div class="col-sm-8">
                        <input type="text" required #firstName="ngModel" pattern="[a-zA-Z]{3,}" [class.is-invalid]="firstName.invalid && firstName.touched" class="form-control"   id="name" name="name" [(ngModel)]="em.firstName">
                        <div *ngIf="firstName.errors && (firstName.invalid || firstName.touched)">
                            <small *ngIf="firstName.errors.required" [class.d-none]='firstName.valid || firstName.untouched'>valid first Name is required</small>    
                            <small *ngIf="firstName.errors.pattern" [class.d-none]='firstName.valid || firstName.untouched'>first Name should be at least 3 alphabet letters.</small>    
                        </div>
                    </div>
                </div>
                <div class="form-group row">
                    <label for="lastName" class="col-sm-3 col-form-label">LastName</label>
                    <div class="col-sm-8">
                        <input type="text" required #lastName="ngModel" pattern="[a-zA-Z]{3,}" [class.is-invalid]="lastName.invalid && lastName.touched" class="form-control"   id="lastName" name="lastName" [(ngModel)]="em.lastName">
                        <div *ngIf="lastName.errors && (lastName.invalid || lastName.touched)">
                            <small *ngIf="lastName.errors.required" [class.d-none]='lastName.valid || lastName.untouched'>valid lastName is required</small>
                            <small *ngIf="lastName.errors.pattern" [class.d-none]='lastName.valid || lastName.untouched'>Last Name should be at least 3 alphabet letters.</small>
                        </div>
                    
                    </div>
                </div>
                <fieldset class="form-group">
                    <div class="row">
                      <legend class="col-form-label col-sm-3 pt-0">Gender</legend>
                      <div class="col-sm-8">
                        <div class="form-check">
                          <input class="form-check-input" type="radio" #gender="ngModel" name="gender" id="genderMale" value="male" [(ngModel)]="em.gender">
                          <label class="form-check-label" for="gridRadios1">
                            Male
                          </label>
                        </div>
                        <div class="form-check">
                          <input class="form-check-input" type="radio" #gender="ngModel" name="gender" id="genderFemale" value="female" [(ngModel)]="em.gender" >
                          <label class="form-check-label" for="gridRadios2">
                            Female
                          </label>
                        </div>
                        <small [class.d-none]='gender.valid || gender.untouched'>please select your gender</small>
                      </div>
                    </div>
                </fieldset>
        
                <div class="form-group row" >
                    <label for="email" class=" col-sm-3 col-form-label">Email</label>
                    <div class="col-sm-8">
                        <input type="email" required #email="ngModel" [class.is-invalid]="email.invalid && email.touched" class="form-control"   id="email" name="email" [(ngModel)]="em.email">
                        <small [class.d-none]='email.valid || email.untouched'>valid email is required</small>
                    </div>
                </div>
                
        
                <div class="form-group row" >
                    <label for="phone" class="col-sm-3 col-form-label">Phone</label>
                    <div class="col-sm-8">
                        <input type="text" required #phone="ngModel" pattern="[0-9]{10}" [class.is-invalid]="phone.invalid && phone.touched" class="form-control"   id="phone" name="phone" [(ngModel)]="em.phone">
                        <div *ngIf="phone.errors && (firstName.invalid || firstName.touched)">
                            <small *ngIf="phone.errors.required" [class.d-none]='phone.valid || phone.untouched'>valid phone is required</small>
                            <small *ngIf="phone.errors.pattern" [class.d-none]='phone.valid || phone.untouched'>phone number must be 10 digits.</small>
                        </div>
                    </div>
                </div>
        
                <fieldset class="form-group ">
                    <div class="row">
                      <legend class="col-form-label col-sm-3 pt-0">Level</legend>
                      <div class="col-sm-8">
                        <div class="form-check">
                          <input class="form-check-input" type="radio" #type="ngModel" name="type" id="senior" value="senior" [(ngModel)]="em.level" >
                          <label class="form-check-label" for="gridRadios1">
                            senior
                          </label>
                        </div>
                        <div class="form-check">
                          <input class="form-check-input" type="radio" #level="ngModel" name="level" id="junior" value="junior" [(ngModel)]="em.level">
                          <label class="form-check-label" for="gridRadios2">
                            junior
                          </label>
                        </div>
                        <small [class.d-none]='level.valid || level.untouched'>please select your type</small>
                      </div>
                    </div>
                </fieldset>
        
                <div class="form-group row">
                    <label for="age" class="col-sm-3 col-form-label">Age</label>
                    <div class="col-sm-8">
                        <input type="number" pattern="\b(2[1-9]|[3-5][0-9]|60)\b" required #age="ngModel" [class.is-invalid]="age.invalid && age.touched" class="form-control" id="age" name="age" [(ngModel)]="em.age">
                        <small [class.d-none]='age.valid || age.untouched'>age is required</small>
                    </div>
                </div>
        
                <div class="form-group row">
                    <label for="salary" class="col-sm-3 col-form-label">Salary</label>
                    <div class="col-sm-8">
                        <input type="number" pattern="\b([5-8][0-9]{5}|9[0-8][0-9]{4}|99[0-8][0-9]{3}|999[0-8][0-9]{2}|9999[0-8][0-9]|99999[0-9]|[12][0-9]{6}|3000000)\b" required #salary="ngModel" [class.is-invalid]="salary.invalid && salary.touched"class="form-control" id="salary" name="salary" [(ngModel)]="em.salary" >
                        <small [class.d-none]='salary.valid || salary.untouched'>salary is required</small>
                    </div>
                </div> 
        
                <div class="form-group row">
                    <label for="experience" class="col-sm-3 col-form-label">Experience</label>
                    <div class="col-sm-8">
                        <input type="number" pattern="\b([0-9]|[1-3][0-9]|40)\b" required #experience="ngModel" [class.is-invalid]="experience.invalid && experience.touched" class="form-control"   id="experience" name="experience" [(ngModel)]="em.experience">
                        <small [class.d-none]='experience.valid || experience.untouched'>valid experience is required</small>
                    </div>
                </div>
        
                <div class="form-group">
                    <button type="submit" *ngIf="edit==true" class="btn btn-primary" [attr.disabled]="employeeForm.invalid ? 'disabled' : null">Update</button>
                    <button type="submit" *ngIf="edit==false"class="btn btn-primary" [attr.disabled]="employeeForm.invalid ? 'disabled' : null">Add</button>
                </div>
            </form>
        </div>
    </div>
    

</div>